# ccache configuration for Milvus
# See: https://ccache.dev/manual/latest.html

# Maximum cache size
max_size = 20G

# Enable compression to save disk space
compression = true
compression_level = 6

# Improve cache hit rate by being less strict about certain things
# - pch_defines: Ignore certain PCH defines
# - time_macros: Ignore __DATE__, __TIME__, and __TIMESTAMP__
# - include_file_mtime: Don't check include file modification times
# - include_file_ctime: Don't check include file change times
sloppiness = pch_defines,time_macros,include_file_mtime,include_file_ctime

# Don't include the current working directory in the hash
# This allows cache hits even if the project is in different locations
hash_dir = false

# Set base directory for relative paths
# This should be set to the project root at runtime
# base_dir is typically set via environment variable: export CCACHE_BASEDIR=$PWD

# Enable file cloning/reflink support on supported filesystems
# This saves disk space by using copy-on-write
file_clone = true

# Disable compiler check to improve performance
# Only disable this if you're sure the compiler version is stable
compiler_check = mtime

# Log to file for debugging (comment out in production)
# log_file = /tmp/ccache.log
# debug = true

# Stats log for monitoring
# stats_log = /tmp/ccache-stats.log

# Enable remote storage (uncomment and configure if using)
# remote_storage = redis://localhost:6379
# remote_storage = file:///shared/ccache-storage

# Namespace for remote storage
# namespace = milvus
