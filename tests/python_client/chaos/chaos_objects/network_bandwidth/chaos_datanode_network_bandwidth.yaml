kind: NetworkChaos
apiVersion: chaos-mesh.org/v1alpha1
metadata:
  name: test-datanode-network-bandwidth
  namespace: chaos-testing
spec:
  selector:
    namespaces:
      - chaos-testing
    labelSelectors:
      app.kubernetes.io/instance: milvus-chaos
      component: datanode
  mode: all
  action: bandwidth
  bandwidth:
    rate: "1mbps"
    limit: 100
    buffer: 10000
  duration: 5m
  direction: both
  target:
    selector:
      namespaces:
        - chaos-testing
      labelSelectors:
        app.kubernetes.io/instance: milvus-chaos
    mode: all
